# 强大的 Primitive API

这个 API 对几何图形的控制粒度非常细。

# 1. 简单例子

``` js
let box = new Cesium.Primitive({
  geometryInstances: new Cesium.Geometry({ ... }),
  appearance: new Cesium.MaterialAppearance({ ... }),
  modelMatrix: modelMatrix
})
```

从这个图可以看出，一个 primitive 对象所依赖的是三个主要的对象：

- geometryInstances：Geometry 数组或单个 Geometry
- appearance：外观对象
- modelMatrix：由 geometryInstances 的局部坐标转换到世界坐标的矩阵

# 2. GeometryInstance

Primitive 的 geometryInstances 属性既可以是单个 geometryInstance，也可以是数组。

Cesium 会一次性把 geometryInstances 绘制出来，以减少 drawcall.



# 参考

[自定义顶点法线贴图 - 使用Primitive API](https://sandcastle.cesium.com/index.html?#c=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)